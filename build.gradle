// task hello{
// 	 def str1="hello world"

// 	 println str1

// 	 println "111111---${str1}--"+str1.getClass().name
// }

// task list{
// 	def numlist=[1,2,3,4,5]
// 	println numlist.getClass().name
// 	println numlist[0..3]


// 	numlist.each{
// 		println it
// 	}

// }


// task map<<{
// 	def map1=['width':1000,'height':200]
// 	println map1.getClass().name

// 	println map1.width
// 	println map1['height']

// 	map1.each{
// 		println "Key:${it.key},Value:${it.value}"
// 	}
// }


// task invokeMethod<<{
// 		add(1,2)
// 	 	add 4,8
// }

// def add(int a ,int b){
// 	println a+b
// }


// task printlnMethodReturn{

// 	doLast{
// 		def result1 = comparing 3, 4
// 		def result2 = comparing (11,22)
// 	    println "result1:${result1} result2:${result2}"
// 	}

// }

// def comparing(int a , int b ){
// 	if(a>b){
// 		a
// 	}else{
// 		b
// 	}
// }



// task helloJavaBean<<{

// 	Person p =new Person()
// 	printlnMethod "初始化名字是 : ${p.name}"
// 	p.name="MTH"
// 	printlnMethod "新名字是 : ${p.name}"

// 	printlnMethod "年龄是 : ${p.age}"

// 	p.age=100
// 	printlnMethod "新年龄是 : ${p.age}"

// }


// class Person{
// 	private String name
// 	private int age =12

// 	public int getAge(){
// 		age
// 	}

// 	public void setAge(int newAge){
// 		age = newAge
// 	}
// }


// task  helloClosure{
// 	//当闭包有一个参数的时候就默认是it
// 	customEach{
// 		printlnMethod it
// 	}
// }


// def customEach(closure){

// 	for(int i in 1..10)
// 		{
// 			closure(i)
// 		}

// }  


// task helloClosure{
// 	eachMap{ k,v ->
// 		printlnMethod "${k} is ${v}"
// 	}
// }


// def eachMap(closure){
// 	def map1=["name":"张三","age":18]

// 	map1.each{
// 		closure(it.key,it.value)
// 	}
// }

// task helloDelegate{

// 	new Delegate().test{
// 		println "thisObject :${thisObject.getClass()}"
// 		println "owner :${owner.getClass()}"
// 		println "delegate :${delegate.getClass()}"
// 		method1()
// 		it.method1()
// 	}
// }



// def method1(){
// 	printlnMethod "Context this :${this.getClass()} in root "
// 	printlnMethod "method1 in root"
// }



// class Delegate{

// 	def method1(){
// 		println ("Delegate this : ${this.getClass()} in root")
// 		println ("method1 in root")


// 	}

// 	def test (Closure<Delegate> closure){
// 		closure(this)
// 	}


// }



task configClosure {
    person {
        personName = "张三"
        personAge = 20
        dumpPerson()
    }
}
class Person {
    String personName   
    int personAge
    def dumpPerson(){
        println "name is ${personName},age is ${personAge}"
    }
}
def person(Closure<Person> closure){
    Person p = new Person();
    closure.delegate = p    //委托模式优先
    closure.setResolveStrategy(Closure.DELEGATE_FIRST);
    closure(p)
}


def printlnMethod(def str){
	println "${str}"
}






















































































